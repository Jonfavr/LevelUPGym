<!-- templates/achievements.html -->
{% extends "base.html" %}

{% block title %}Achievements - LevelUp Gym{% endblock %}

{% block content %}
<div class="card">
    <h1>Achievements ğŸ†</h1>
    <p><strong>Unlocked:</strong> {{ achievements.total_unlocked }} / {{ achievements.total_achievements }} 
       ({{ "%.1f"|format(achievements.completion_percentage) }}%)</p>
    <div style="background: #e5e7eb; height: 30px; border-radius: 15px; overflow: hidden; margin-top: 15px;">
        <div style="background: linear-gradient(90deg, #fbbf24 0%, #f59e0b 100%); height: 100%; width: {{ achievements.completion_percentage }}%;"></div>
    </div>
</div>

{% for category, achs in achievements.achievements.items() %}
{% if achs %}
<div class="card">
    <h2>{{ category.title().replace('_', ' ') }} Achievements</h2>
    <div style="display: grid; gap: 15px; margin-top: 20px;">
        {% for ach in achs %}
        <div style="padding: 20px; border-radius: 10px; {% if ach.is_unlocked %}background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%); color: white;{% else %}background: #f9fafb; border: 2px dashed #d1d5db;{% endif %}">
            <div style="display: flex; justify-content: space-between; align-items: start;">
                <div style="flex: 1;">
                    <div style="font-size: 24px; margin-bottom: 5px;">
                        {% if ach.is_unlocked %}ğŸ†{% else %}ğŸ”’{% endif %}
                    </div>
                    <strong style="font-size: 18px;">{{ ach.name }}</strong>
                    <p style="margin: 10px 0; {% if not ach.is_unlocked %}color: #6b7280;{% else %}opacity: 0.9;{% endif %}">
                        {{ ach.description }}
                    </p>
                    <div style="{% if not ach.is_unlocked %}color: #6b7280;{% else %}opacity: 0.9;{% endif %}">
                        Reward: {{ ach.exp_reward }} EXP
                    </div>
                </div>
                {% if ach.is_unlocked and ach.unlocked_date %}
                <div style="text-align: right; font-size: 12px; {% if ach.is_unlocked %}opacity: 0.8;{% else %}color: #9ca3af;{% endif %}">
                    Unlocked<br>{{ ach.unlocked_date }}
                </div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}
{% endfor %}
{% endblock %}